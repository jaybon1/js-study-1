<!-- s14_ajax.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>    
</body>
<script>
    const init = () => {
        // 제이쿼리에서 비동기 통신을 할 때에는
        // $.ajax를 사용한다.
        $.ajax({
            // url은 사이트의 주소이다. (자원)
            url: "https://jsonplaceholder.typicode.com/posts/1",
            // type은 GET / POST / PUT / DELETE 등등이 있다.
            // HTTP 메소드라고 말한다.
            // GET은 데이터를 가져올 때 (보통) 사용한다.
            type: "GET"
        }).done((result) => { // 통신이 성공했을 때 처리를 위해  done을 사용한다.
            // done 안에는 결과 값을 매개변수로 받는 함수를 넣어준다.
            // (result) => {}
            console.log(result);
            console.log(result.title);
        }).fail((error) => {
            // fail은 통신이 실패했을 경우 처리를 위해 사용한다.
            alert("통신에 실패했습니다.");
            console.log(error);
        });
    }

    init();

    const getTodoList = () => {
        $.ajax({
            url: "http://localhost:8080/api/v2/todo",
            type: "GET"
        }).done((result) => {
            if(result.code == 0){
                console.log(result.data.todoList);
            }
            alert(result.message);
        });
    }

    getTodoList();

</script>
</html>
